function l_8Sk(a,b){a.eCf.unshift(b)}function l_9Sk(a,b){const c=l_KKi(a,b);if(c instanceof l_fHi){const d=c.QVc.serialize();a.F7j.Oa(d);a.wg.Oa(b)}return c}var l_$Sk={mve:"plain text"};const l_aTk=l_2d(l_$Sk);var l_bTk=new l_Ch(function(a){return l_aTk(a)},function*(){const a=l_Ob(l_Kb(l_$Sk)[Symbol.iterator]());void 0!=a&&(yield a)});var l_cTk=class{constructor(a){this.name="generatedUML";this.documentId=a.documentId;this.format=a.format;this.method=a.method;this.hua=a.hua;this.userId=a.userId}fb(){return{documentId:this.documentId,format:l_bTk.Ua(this.format),method:l_kIi.Ua(this.method),nRows:l_Hh.Ua(this.hua),userId:l_Hh.Ua(this.userId),name:this.name}}};var l_dTk=class extends l_0A{constructor(a,b,c,d,e){super(a,b,c);this.ge=e;this.type="advanced_shape_options";this.ba={columns:i18n.get("advanced-options-swimlane-columns"),rows:i18n.get("advanced-options-swimlane-rows")};if(a=d.getProperty(this.Ub(),"RowCount"))this.$Fb=this.ge.create(a),l_ZA(this,this.$Fb);if(d=d.getProperty(this.Ub(),"ColumnCount"))this.Wtb=this.ge.create(d),l_ZA(this,this.Wtb)}Ub(){return l_pZ.className}ngAfterViewInit(){l__A(this)}get cols(){return this.Wtb?this.Wtb.Qa():1}set cols(a){this.Wtb&&
this.Wtb.setValue(a)}get rows(){return this.$Fb?this.$Fb.Qa():1}set rows(a){this.$Fb&&this.$Fb.setValue(a)}};l_dTk.oa=function(a){return new (a||l_dTk)(l_L(l_Mo),l_L(l_7x),l_L(l_1),l_L(l_Js),l_L(l_eS))};
l_dTk.Ka=l_G({type:l_dTk,Ca:[["lucid-multi-dimensional-swimlane-advanced-options"]],features:[l_N],Ja:4,Ia:14,Ma:[[3,"label"],[3,"visualStep","scalar","min","max","precision","value","valueChange"]],template:function(a,b){a&1&&(l_Q(0,"lucid-rich-menu-item",0)(1,"lucid-spinner",1),l_T("valueChange",function(c){return b.cols=c}),l_R()(),l_Q(2,"lucid-rich-menu-item",0)(3,"lucid-spinner",1),l_T("valueChange",function(c){return b.rows=c}),l_R()());a&2&&(l_P("label",b.ba.columns),l_M(1),l_P("visualStep",
1)("scalar",1)("min",1)("max",50)("precision",1)("value",b.cols),l_M(1),l_P("label",b.ba.rows),l_M(1),l_P("visualStep",1)("scalar",1)("min",1)("max",50)("precision",1)("value",b.rows))},La:[l_fG,l_$B],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}lucid-spinner[_ngcontent-%COMP%]{max-width:72px}lucid-toggle-icon[_ngcontent-%COMP%] + lucid-toggle-icon[_ngcontent-%COMP%]{margin-left:8px}lucid-click-edit-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;border-radius:3px;border:1px solid #979ea8;font-size:14px;max-width:40em;line-height:1.5em;min-height:1.5em;padding:0 4px}lucid-click-edit-text[_ngcontent-%COMP%]   .edit-text-container[_ngcontent-%COMP%]{padding:4px}lucid-rich-menu-item.wide-content[_ngcontent-%COMP%]   lucid-single-select-dropdown[_ngcontent-%COMP%]{width:100%}"],
changeDetection:0});function l_eTk(a){const b=a.qm.dba("UMLSequenceGenerator",{x:0,y:0},{},void 0,void 0,{});a=a.document.Zn.get(b);if(a instanceof l_LKi)return a}function l_fTk(a,b){b.qu();const c=b.Ey();if(c){const d=l_BI(a.mn,b.getPage(),b.Tf.className);a.jb.Jb(new l_pt("SetProperty",{id:b.groupId,Property:l_rf.key,Value:d}));a.selection.Ii([c.id])}else a.selection.Ii(b.JI().map(d=>d.id));return c}
var l_gTk=class extends l_CHh{constructor(a,b,c,d,e,f,g,h){super(b,c,d,e,f);this.selection=a;this.Ra=b;this.document=c;this.jb=d;this.nd=e;this.Ta=f;this.qm=g;this.mn=h}ica(){}Zyb(){return{w:900,h:320}}};l_gTk=__decorate([l_s({foa:-1}),__metadata("design:paramtypes",[l_0J,l_mq,l_SI,l_Sv,l_AI,l_Hu,l_DU,l_CI])],l_gTk);function l_hTk(a,b,c,d){a.user&&a.analytics.vna.n3("uml-markup-used",a.user.id,l_li,"uml-markup-used");let e;e=c?c.UML_Sequence:b?b.internal.getProperties().get("Markup").UML_Sequence:a.xSj;var f=null==b?void 0:b.getGenerator();let g=void 0;g=f instanceof l_LKi?f:l_eTk(a.bHh);let h;f=null==(h=g)?void 0:l_9Sk(h,Object.assign({},c||{},{UML_Sequence:e}));if(!f||!g)return null;if(f instanceof l_fHi){c=l_fTk(a.bHh,g);b&&b!==c&&(g.properties.location.Oa({x:b.Hv.value.x,y:b.Hv.value.y}),a.yI.nH([b],!0));
c&&Array.from(c.Sya.value).forEach(l=>{l instanceof l_cI?a.bO.Ula(l,"uml markup"):l instanceof l_D&&a.bO.uG({item:l,Gx:"uml markup",Fmi:"uml"})});let k;a.Bi.fireEvent(new l_cTk({documentId:null!=(k=a.document.id)?k:"",format:"plain text",method:null!=d?d:"build",hua:e.split("\n").length,userId:a.user.getId()}));return null}return{message:f.vQ(),lineNum:f.N4e()}}
function l_iTk(a,b,c,d){c=c?Object.assign({},c,{UML_Sequence:c.UML_Sequence.replace(/“|”/g,'"')}):void 0;if(a.user.Oi.Uh().Mh("UMLMarkup")){const e=b&&1==b.length?b[0]:void 0;if(e&&e instanceof l_eI&&e.internal.getProperties().get("Markup")&&b)return l_hTk(a,e,c,d);if(!b||1!=b.length)return l_hTk(a,null,c,d)}else a.user&&a.analytics.vna.n3("uml-markup-editor-paywall",a.user.id,l_li,"uml-markup-editor-paywall"),l_RNe(a.ed);return null}
var l_jTk=class{constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.selection=b;this.user=c;this.analytics=d;this.Bi=e;this.ed=f;this.bO=g;this.bHh=h;this.yI=k;this.xSj="Alice -> Bob\nAlice <-- Bob\nAlice -> Bob: text\nnote right of Alice: note"}p4i(){const a=this.selection.items.M6e();return a&&a.internal.getProperties().get("Markup")?[a]:[]}};l_jTk=__decorate([l_s(),__metadata("design:paramtypes",[l_SI,l_0J,l_4,l_Dw,l_7z,l_II,l_9J,l_gTk,l_pJ])],l_jTk);var l_kTk=class{};l_kTk.oa=function(a){return new (a||l_kTk)};l_kTk.Wa=l_H({type:l_kTk});l_kTk.Va=l_E({imports:[l_3,l_6y,l_YO,l_eX,l_GB,l_aH,l_JS,l_ZQ,l_LN]});var l_lTk=class{constructor(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u){this.KB=a;this.y8=b;this.viewport=c;this.selection=d;this.jb=e;this.Fl=g;this.ed=h;this.kpb=k;this.Mjd=l;this.If=m;this.bO=n;this.Ord=p;this.Og=q;this.i_=r;this.HWc=t;this.nk=u}};l_lTk=__decorate([l_s(),__param(0,l_sm(l__m)),__metadata("design:paramtypes",[Object,l_mM,l_mL,l_0J,l_Sv,l_D1e,l_4J,l_II,l_C1e,l_0Ne,l_Im,l_9J,l_jTk,l_rK,l_Km,l_q$h,l_rI])],l_lTk);
function l_mTk(a){a.selection.listen(l_1J,a.swk.bind(a));const b=l_lFf(a.y8);b.add({Fb:"ios_inputs"});let c=!1;const d=f=>{c&&b.spacer();c=!0;b.openGrid({prefix:2,Aja:2,width:8});b.addButton({onClick:()=>{a.Fjd&&f.Ve(a.Fjd)},label:f.name});b.close()},e={uIm:{name:i18n.get("plugin-uml-option-multiplicity"),Ve:f=>{const g=f.Bb.value;void 0==g.get("m1")&&f.sb(0,{t:"0..*",m:[]},1,"m1");void 0==g.get("m2")&&f.sb(1,{t:"0..*",m:[]},-1,"m2")}},yMm:{name:i18n.get("plugin-uml-option-line-reverse"),Ve:f=>{var g=
f.properties.lg.value;const h=f.properties.Yf.value,k=(m,n)=>{n=m instanceof l_Hj?l_Hj.create({block:m.block,pf:m.pf,eC:m.eC,iA:m.iA,Nn:m.Nn,Pm:m.Pm,style:n.style,padding:n.padding}):m instanceof l_Jj?new l_Jj(m.line,m.aT,m.hKa,n.style,n.padding):new l_Gj(m.x,m.y,n.style);n.x=m.x;n.y=m.y;return n};var l=k(g,h);g=k(h,g);f.properties.lg.Oa(l);f.properties.Yf.Oa(g);l=l_Ph(f.properties.Bb.value);l.forEach(m=>{null!=m.location&&(m.location=1-m.location)});0<l.size&&f.properties.Bb.Oa(l)}}};l_Ac(e,f=>{d(f)});
l_mFf(a.y8,[{content:b,label:""}],{isContextPanel:!0,checkShow:()=>!!a.Fjd})}
var l_nTk=class extends l_MKi{constructor(a,b){super(a,b.nk);this.AJ=b;this.If=this.AJ.If;this.Mjd=this.AJ.Mjd;this.y8=this.AJ.y8;this.Ord=this.AJ.Ord;this.selection=this.AJ.selection;this.V8=new l_Yn(this);this.Fjd=null;l_8Sk(b.viewport.navigator,this.B7j.bind(this));this.AJ.i_.register("UMLSequenceGenerator",[this.AJ.HWc]);this.mc.register({className:"UMLSequence",propertyName:"Markup",value:(c,d)=>new l_xr(c,()=>{let e,f;if(1==d.length){let h;var g=null!=(h=d[0].internal.getProperties().get("Markup"))?
h:null}else g=null;return null!=(f=null==(e=g)?void 0:e.UML_Sequence)?f:null},(e,f)=>e===f,()=>{}),enabled:c=>new l_v(c,()=>!0,(d,e)=>d===e),wkd:(c,d)=>{{const f={UML_Sequence:d};try{const g=JSON.parse(d);var e=l_IIi(g)?g:f}catch(g){e=f}}return l_iTk(this.Ord,c,e)},Igb:this.Ord.p4i});l_Hm(this.If,{Af:[l_dTk,l_eX],module:l_kTk});b.Og.Nf([{type:"advanced_shape_options",registration:{component:l_eX}}],{selection:{Ih:new Set([l_rZ.className,l_nZ.className,l_nZ.QWa])}});b.Og.Nf([{type:"advanced_shape_options",
registration:{component:l_dTk}}],{selection:{Ih:new Set([l_pZ.className])}});b.KB.promise.then(()=>{this.analytics.vna.n3("uml-shape-library-enabled",this.user.id,l_li,"uml-shape-library-enabled");l_mTk(this)});this.Mjd.setCallback(()=>this.MVe("content gallery data panel"))}MVe(a){l_iTk(this.Ord,void 0,void 0,a)}B7j(a){const b=this.AJ.Fl.xO();if(b)for(const c of b.items.values())if(c.id==a&&c instanceof l_eI&&c.internal.getProperties().get("Markup"))return!1;return!0}swk(){const a=c=>{function d(e){if(!(e instanceof
l_Hj&&e.block))return!1;e=e.block.Tf.className;return!!e&&0==e.search("UML")}return d(c.properties.lg.value)||d(c.properties.Yf.value)};this.Fjd=null;var b=this.selection.Zb();1==b.length&&(b=b[0],b instanceof l_cI&&a(b)&&(this.Fjd=b))}};l_nTk=__decorate([l_s(),__metadata("design:paramtypes",[l_6I,l_lTk])],l_nTk);l_7I.set("umlview",l_nTk);
//# sourceURL=/js/application/chart_app/chunk/umlview.js?compiled=1
